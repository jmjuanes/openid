{% extends 'layouts/dashboard.html' %}

{% block dashboardContent %}
    <div class="siimple-h3 dashboard-heading">Users management</div>
    <p class="siimple-p">Delete or modify existing users or create new ones.</p>
    {% include 'partials/alert.html' %}
    <!-- Register a new user -->
    <a href="/dashboard/admin/users/new" class="siimple-btn siimple-btn--blue">Register a new user</a>
    {% if users %}
        <!-- Show the users list -->
        <div class="siimple-h4">Registered users</div>
        <div class="siimple-table">
            <div class="siimple-table-header">
                <div class="siimple-table-row">
                    <div class="siimple-table-cell">Email</div>
                    <div class="siimple-table-cell">Admin</div>
                    <div class="siimple-table-cell">Active</div>
                    <div class="siimple-table-cell">Delete</div>
                </div>
            </div>
            <div class="siimple-table-body">
                {% for user in users %}
                    <div class="siimple-table-row">
                        <!-- Email -->
                        <div class="siimple-table-cell">{{ user.email }}</div>
                        <!-- Admin switch -->
                        <div class="siimple-table-cell">
                            <div class="siimple-switch">
                                {% if user.is_admin %}
                                    <input type="checkbox" id="admin-{{ user.id }}" checked>
                                {% else %}
                                    <input type="checkbox" id="admin-{{ user.id }}">
                                {% endif %}
                                <label for="admin-{{ user.id }}"></label>
                                <div></div>
                            </div>
                        </div>
                        <!-- Active switch -->
                        <div class="siimple-table-cell">
                            <div class="siimple-switch">
                                {% if user.active %}
                                    <input type="checkbox" id="active-{{ user.id }}" checked>
                                {% else %}
                                    <input type="checkbox" id="active-{{ user.id }}">
                                {% endif %}
                                <label for="active-{{ user.id }}"></label>
                                <div></div>
                            </div>
                        </div>
                        <!-- Delete button -->
                        <div class="siimple-table-cell">
                            <a href="#" class="siimple-btn siimple-btn--red">Delete</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% else %}
        <!-- If there are no users -->
        <div class="siimple-h6">There are currently no users registered.</div>
    {% endif %}
{% endblock %}